{"version":3,"file":"main.js","sources":["js/data/state-data.js","js/util/time-converter.js","js/data/game-data.js","js/util/switch-app-screen.js","js/util/get-element-from-template.js","js/view.js","js/includes/logo.js","js/welcome/welcome-view.js","js/welcome/welcome.js","js/game/game-model.js","js/header/header-view.js","js/includes/player.js","js/game/game-artist-view.js","js/game/game-genre-view.js","js/game/game.js","js/result/result-data.js","js/result/result-view.js","js/result/result.js","js/splash/splash-screen.js","js/loader.js","js/util/b64encoding.js","js/application.js","js/main.js"],"sourcesContent":["const INIT_NOTES = 3;\nconst INIT_TIME = 300;\n\nconst initialState = {\n  question: 0,\n  notesLeft: INIT_NOTES,\n  timeLeft: INIT_TIME,\n};\n\n\nexport {initialState, INIT_NOTES, INIT_TIME};\n","import {initialState} from \"../data/state-data\";\n\nconst timeConverter = (timeLeft, initTime = initialState.timeLeft) => {\n  const timeSpend = initTime - timeLeft;\n  const minutesLeft = Math.floor(timeLeft / 60);\n  const secondsLeft = timeLeft - minutesLeft * 60;\n  const minutesSpend = Math.floor(timeSpend / 60);\n  const secondsSpend = timeSpend - minutesSpend * 60;\n\n  return {timeSpend, minutesLeft, secondsLeft, minutesSpend, secondsSpend};\n\n};\n\nexport default timeConverter;\n","import timeConverter from '../util/time-converter';\nimport {INIT_NOTES} from './state-data';\n\n\nconst QUICK_ANSWER_TIME = 30;\nconst TOTAL_QUESTIONS = 10;\n\nconst questionTypes = {\n\n  QUESTION_ARTIST: `artist`,\n  QUESTION_GENRE: `genre`\n};\n\nconst resultTypes = {\n  WIN: `win`,\n  LOOSE: `loose`\n};\n\nconst getScore = (answersArray = [], notesLeft = 0, totalQuestions = TOTAL_QUESTIONS) => {\n\n  // Пример массива с ответом:\n  // [1, 30] = Правильный ответ за 30 секунд\n  // [0, 12] = Неправильный ответ за 12 секунд\n\n  let scoreCount = 0;\n\n  // Если игрок ответил меньше, чем на 10 вопросов, то игра считается непройденой и функция должна вернуть -1\n  if (answersArray.length < totalQuestions) {\n    scoreCount = -1;\n    return scoreCount;\n  }\n\n  // Подсчет баллов если все 10 вопросов отвечены\n  scoreCount = answersArray.reduce((accumulator, currentAnswer) => {\n\n    let scoreAnswer = 0;\n\n    if (currentAnswer[0]) {\n      // За правильный ответ 1 балл\n      if (currentAnswer[1] >= QUICK_ANSWER_TIME) {\n        scoreAnswer = 1;\n      } else {\n        // За быстрый правильный ответ (менее 30 секунд) — 2 балла\n        scoreAnswer = 2;\n      }\n    }\n\n    return accumulator + scoreAnswer;\n  }, 0);\n\n  // За каждую соверешнную ошибку вычитается 2 балла, но в 0 уйти нельзя\n  scoreCount = Math.max(0, scoreCount - (INIT_NOTES - notesLeft));\n\n\n  return scoreCount;\n\n};\n\nconst getResultString = (statistics = [], result) => {\n\n  if (result.timeLeft === 0) {\n    return `Время вышло!<br>Вы не успели отгадать все мелодии`;\n  }\n\n  if (result.notesLeft === 0) {\n    return `У вас закончились все попытки.<br>Ничего, повезёт в следующий раз!`;\n  }\n\n  statistics.push(result.scoreCount);\n  statistics.sort((a, b) => a - b);\n\n  const statisticsCount = statistics.length;\n  const betterResultsCount = statistics.findIndex((it) => it === result.scoreCount);\n  const resultPlace = statisticsCount - betterResultsCount;\n  const resultPercent = (betterResultsCount / statisticsCount) * 100;\n\n\n  return `Вы заняли ${resultPlace}-ое место из ${statisticsCount} игроков. Это лучше чем у ${resultPercent}% игроков`;\n};\n\nconst getQuickAnswersCount = (answersArray) => {\n\n  // Подсчет быстрых ответов\n  return answersArray.reduce((accumulator, currentAnswer) => {\n\n    if (currentAnswer[0]) {\n\n      if (currentAnswer[1] <= QUICK_ANSWER_TIME) {\n        accumulator += 1;\n      }\n    }\n\n    return accumulator;\n  }, 0);\n};\n\nconst getStatString = (state, initialState, scoreCount) => {\n  const timeInfo = timeConverter(state.timeLeft);\n\n  return `За ${timeInfo.minutesSpend} минуты и ${timeInfo.secondsSpend} секунд\n   <br>вы набрали ${scoreCount} баллов (${getQuickAnswersCount(state.answers)} быстрых)\n   <br>совершив ${initialState.notesLeft - state.notesLeft} ошибки`.trim();\n};\n\nconst getTimer = (value) => {\n  return {\n    value,\n    tick() {\n      if (this.value > 0) {\n        this.value -= 1;\n      }\n\n      return {value: this.value, done: this.value === 0};\n    },\n  };\n};\n\n\nexport {getScore, getResultString, getStatString, getTimer, getQuickAnswersCount, QUICK_ANSWER_TIME, questionTypes, resultTypes};\n","const app = document.querySelector(`.app`);\n\n\nconst switchAppScreen = (screen) => {\n  app.replaceChild(screen.element, app.querySelector(`.main`));\n};\n\nexport default switchAppScreen;\n","const getElementFromTemplate = (template) => {\n  const outer = document.createElement(`div`);\n  outer.innerHTML = template;\n  return outer.firstElementChild;\n};\n\nexport default getElementFromTemplate;\n","import getElementFromTemplate from './util/get-element-from-template';\n\nexport default class AbstractView {\n\n  get template() {\n    throw new Error(`You have to define template for view`);\n  }\n\n  render() {\n    return getElementFromTemplate(this.template);\n  }\n\n  bind() {\n\n  }\n\n  getMarkup() {\n    this._element = this.render();\n    this.bind();\n  }\n\n  get element() {\n    if (!this._element) {\n      this.getMarkup();\n    }\n    return this._element;\n  }\n\n}\n","const logo = `<section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>`;\n\nexport default logo;\n","import AbstractView from '../view';\nimport logo from '../includes/logo';\nimport timeConverter from '../util/time-converter';\n\nclass WelcomeView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n  }\n\n  get template() {\n    const timeInfo = timeConverter(this.state.timeLeft);\n\n    return (`\n  <section class=\"main main--welcome\">\n    ${logo}\n    \n    <button class=\"main-play\">Начать игру</button>\n    <h2 class=\"title main-title\">Правила игры</h2>\n    <p class=\"text main-text\">\n      Правила просты — зa ${timeInfo.minutesLeft} минут ответить на все вопросы.<br>\n      Ошибиться можно ${this.state.notesLeft} раза.<br>\n      Удачи!\n    </p>\n  </section>`.trim()\n    );\n  }\n\n  bind() {\n    const buttonPlay = this.element.querySelector(`.main-play`);\n\n    buttonPlay.onclick = (e) => {\n      e.preventDefault();\n      this.onStart();\n    };\n  }\n\n  onStart() {\n\n  }\n}\n\n\nexport default WelcomeView;\n","import switchAppScreen from '../util/switch-app-screen';\nimport {INIT_NOTES, INIT_TIME} from '../data/state-data';\nimport WelcomeView from './welcome-view';\nimport App from '../application';\n\n\nclass WelcomeScreen {\n\n  init() {\n    this.state = {};\n    this.state.notesLeft = INIT_NOTES;\n    this.state.timeLeft = INIT_TIME;\n    this.view = new WelcomeView(this.state);\n\n    switchAppScreen(this.view);\n\n    this.view.onStart = () => {\n      App.startGame();\n    };\n  }\n}\n\n\nexport default new WelcomeScreen();\n","import {getTimer} from '../data/game-data';\nimport {resultTypes} from '../data/game-data';\n\nconst getQuestion = (questions, num) => questions[num];\n\nconst nextQuestionState = (state, questions) => {\n  const currentQuestion = state.question;\n\n  let nextQuestion = currentQuestion;\n\n  if (getQuestion(questions, currentQuestion + 1)) {\n\n    nextQuestion = currentQuestion + 1;\n\n  }\n\n  const nextState = Object.assign({}, state);\n  nextState.question = nextQuestion;\n\n  return nextState;\n};\n\nconst setNotes = (state, notes) => {\n  if (notes < 0) {\n    throw new RangeError(`Can't set negative lives`);\n  }\n  state = Object.assign({}, state);\n  state.notesLeft = notes;\n  return state;\n};\n\nexport default class GameModel {\n  constructor(questions) {\n    this.state = {};\n    this.state.answers = [];\n    this.questions = questions;\n  }\n\n  update(newState) {\n    return Object.assign(this.state, newState);\n  }\n\n  nextQuestionScreen() {\n    this.state = nextQuestionState(this.state, this.questions);\n  }\n\n  tick() {\n    const timer = getTimer(this.state.timeLeft);\n    this.state.timeLeft = timer.tick().value;\n  }\n\n  canMistake() {\n    return this.state.notesLeft > 0;\n  }\n\n  mistake() {\n    if (this.canMistake()) {\n      this.state = setNotes(this.state, this.state.notesLeft - 1);\n    }\n  }\n\n  pushAnswer(answer) {\n    this.state.answers.push(answer);\n  }\n\n  nextQuestionAvailable() {\n    return !!getQuestion(this.questions, this.state.question + 1);\n  }\n\n  cleanState(resultWin = false) {\n    const {notesLeft, timeLeft, answers} = this.state;\n\n    if (resultWin) {\n      this.state = {notesLeft, timeLeft, answers, result: resultTypes.WIN};\n    } else {\n      this.state = {notesLeft, timeLeft, answers, result: resultTypes.LOOSE};\n    }\n  }\n}\n","import AbstractView from '../view';\n\n\nconst headerTimerValue = (mins, secs) => `\n      <div class=\"timer-value\" xmlns=\"http://www.w3.org/1999/xhtml\">\n        <span class=\"timer-value-mins\">${mins}</span><!--\n        --><span class=\"timer-value-dots\">:</span><!--\n        --><span class=\"timer-value-secs\">${secs}</span>\n      </div>`.trim();\n\nconst headerMistakes = (notesLeft) => `\n    <div class=\"main-mistakes\">\n    ${new Array(notesLeft).fill(`<img class=\"main-mistake\" src=\"img/wrong-answer.png\" width=\"35\" height=\"49\">`).join(``)}\n    </div>`.trim();\n\nconst headerSvgCircle = (state) => `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 0 780 780\">\n      <circle\n        cx=\"390\" cy=\"390\" r=\"370\"\n        class=\"timer-line\"\n        style=\"filter: url(#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\"></circle>\n\n      ${headerTimerValue(state.minutesLeft, state.secondsLeft)}\n    </svg>`.trim();\n\nexport default class HeaderView extends AbstractView {\n  constructor(state = {notesLeft: 0, minutesLeft: 0, secondsLeft: 0}) {\n    super();\n    this.state = state;\n  }\n\n  get template() {\n    return `\n    ${headerSvgCircle(this.state)}\n    ${headerMistakes(this.state.notesLeft)}`.trim();\n  }\n}\n","const playerWrapper = (id, src) => `\n      <div class=\"player-wrapper\">\n        <div class=\"player\">\n          <audio src=\"${src}\" id=\"audio-${id}\"></audio>\n          <button class=\"player-control player-control--play\"></button>\n          <div class=\"player-track\">\n            <span class=\"player-status\"></span>\n          </div>\n        </div>\n      </div>`.trim();\n\n\nconst playerHandler = (trigger, e, view) => {\n\n  const audioAll = view.element.querySelectorAll(`audio`);\n  const audioSelected = e.target.previousElementSibling;\n\n  audioAll.forEach((audio) => {\n\n    const button = audio.nextElementSibling;\n\n    if (audio.id === audioSelected.id) {\n      if (button.classList.contains(`player-control--play`)) {\n        audio.play();\n        button.classList.remove(`player-control--play`);\n        button.classList.add(`player-control--pause`);\n      } else {\n        button.classList.remove(`player-control--pause`);\n        button.classList.add(`player-control--play`);\n        audio.pause();\n      }\n    } else {\n      audio.pause();\n      button.classList.remove(`player-control--pause`);\n      button.classList.add(`player-control--play`);\n    }\n  });\n};\n\nexport {playerWrapper, playerHandler};\n","import AbstractView from '../view';\nimport {playerWrapper, playerHandler} from '../includes/player';\n\n\nconst artistAnswerWrapper = (id, artist, image) => `\n        <div class=\"main-answer-wrapper\">\n          <input class=\"main-answer-r\" type=\"radio\" id=\"${id}\" name=\"answer\" value=\"${id}\"/>\n          <label class=\"main-answer\" for=\"${id}\">\n            <img class=\"main-answer-preview\" src=\"${image}\"\n                 alt=\"${artist}\" width=\"134\" height=\"134\">\n            ${artist}\n          </label>\n        </div>`.trim();\n\n\nclass GameArtistView extends AbstractView {\n  constructor(header, question) {\n    super();\n    this.question = question;\n    this.header = header;\n  }\n\n  get template() {\n    return (`\n  <section class=\"main main--level main--level-artist\">\n    ${this.header.template}\n\n    <div class=\"main-wrap\">\n      <h2 class=\"title main-title\">${this.question.question}</h2>\n\n      ${playerWrapper(0, this.question.src)}\n      \n      <form class=\"main-list\">\n\n      ${this.question.answers.map((answer, index) => artistAnswerWrapper(index, answer.title, answer.image.url)).join(``)}\n      </form>\n    </div>\n  </section>`.trim()\n    );\n  }\n\n  bind() {\n\n    this.timeMinsElement = this.element.querySelector(`.timer-value-mins`);\n    this.timeSecsElement = this.element.querySelector(`.timer-value-secs`);\n\n    const artistAnswersList = this.element.querySelectorAll(`.main-answer-r`);\n\n    [...artistAnswersList].forEach((trigger) => {\n      trigger.onclick = (e) => {\n        e.preventDefault();\n        const isCorrect = this.question.answers[e.target.id].isCorrect;\n        this.onAnswer(isCorrect);\n      };\n    });\n\n    const artistPlayersList = this.element.querySelectorAll(`.player`);\n\n    [...artistPlayersList].forEach((trigger) => {\n\n      trigger.onclick = (e) => {\n        e.preventDefault();\n        playerHandler(trigger, e, this);\n      };\n\n    });\n  }\n\n  updateTime(minutes, seconds) {\n    this.timeMinsElement.textContent = minutes;\n    this.timeSecsElement.textContent = seconds;\n  }\n\n  static onAnswer(isCorrect) {\n\n    return isCorrect;\n  }\n\n}\n\nexport default GameArtistView;\n","import AbstractView from '../view';\nimport {playerWrapper, playerHandler} from '../includes/player';\n\n\nconst genreAnswerWrapper = (id, src) => `\n        <div class=\"genre-answer\">\n          ${playerWrapper(id, src)}\n          <input type=\"checkbox\" name=\"answer\" value=\"${id}\" id=\"${id}\">\n          <label class=\"genre-answer-check\" for=\"${id}\"></label>\n        </div>`.trim();\n\nclass GameGenreView extends AbstractView {\n  constructor(header, question) {\n    super();\n    this.question = question;\n    this.header = header;\n  }\n\n  get template() {\n    return (`\n  <section class=\"main main--level main--level-genre\">\n    ${this.header.template}\n\n    <div class=\"main-wrap\">\n      <h2 class=\"title\">${this.question.question}</h2>\n      <form class=\"genre\">\n        ${this.question.answers.map((answer, index) => genreAnswerWrapper(index, answer.src)).join(``)}\n        <button class=\"genre-answer-send\" type=\"submit\">Ответить</button>\n      </form>\n    </div>\n  </section>`.trim());\n\n  }\n\n  bind() {\n\n    this.timeMinsElement = this.element.querySelector(`.timer-value-mins`);\n    this.timeSecsElement = this.element.querySelector(`.timer-value-secs`);\n\n    const submitAnswerBtn = this.element.querySelector(`.genre-answer-send`);\n    submitAnswerBtn.disabled = true;\n\n    const answersForm = this.element.querySelector(`.genre`);\n\n    const genrePlayersList = this.element.querySelectorAll(`.player`);\n\n\n    [...genrePlayersList].forEach((trigger) => {\n\n      trigger.onclick = (e) => {\n        e.preventDefault();\n\n\n        playerHandler(trigger, e, this);\n      };\n    });\n\n    answersForm.onchange = (e) => {\n      e.preventDefault();\n      this.onAnswersFormChange();\n    };\n\n    answersForm.onsubmit = (e) => {\n      e.preventDefault();\n      const genreAnswersList = [...answersForm.answer];\n      const isCorrect = genreAnswersList.reduce((result, currentAnswer) => {\n\n        if (this.question.answers[currentAnswer.id].genre === this.question.genre) {\n          result = result && currentAnswer.checked;\n        } else {\n          result = result && !currentAnswer.checked;\n        }\n\n        return result;\n      }, true);\n      this.onAnswer(isCorrect);\n    };\n\n  }\n\n  onAnswersFormChange() {\n    const submitAnswerBtn = this.element.querySelector(`.genre-answer-send`);\n    const answersForm = this.element.querySelector(`.genre`);\n    const genreAnswersList = [...answersForm.answer];\n    submitAnswerBtn.disabled = !genreAnswersList.some((answer) => answer.checked);\n  }\n\n  updateTime(minutes, seconds) {\n    this.timeMinsElement.textContent = minutes;\n    this.timeSecsElement.textContent = seconds;\n  }\n\n  static onAnswer(isCorrect) {\n\n    return isCorrect;\n  }\n\n}\n\n\nexport default GameGenreView;\n","import {initialState} from '../data/state-data';\nimport switchAppScreen from '../util/switch-app-screen';\nimport timeConverter from '../util/time-converter';\n\nimport GameModel from './game-model';\n\nimport HeaderView from '../header/header-view';\nimport GameArtistView from './game-artist-view';\nimport GameGenreView from './game-genre-view';\n\nimport App from '../application';\n\nimport {questionTypes} from '../data/game-data';\n\nconst getView = (questions, state) => {\n\n  const header = new HeaderView(state);\n\n  switch (questions[state.question].type) {\n\n    case questionTypes.QUESTION_ARTIST:\n\n      return new GameArtistView(header, questions[state.question]);\n\n    case questionTypes.QUESTION_GENRE:\n\n      return new GameGenreView(header, questions[state.question]);\n\n  }\n\n  throw new Error(`Unknown question type ${questions[state.question].type}`);\n\n};\n\n\nexport default class GameScreen {\n\n  constructor(questions) {\n    this.model = new GameModel(questions);\n    this.model.questions = questions;\n  }\n\n  init(state = initialState) {\n    this.model.update(state);\n    this.changeQuestion(false);\n  }\n\n\n  changeQuestion(incrementQuestion = true) {\n\n    if (incrementQuestion) {\n      this.model.nextQuestionScreen();\n    }\n    this.level = getView(this.model.questions, this.model.state);\n    const startedTime = this.model.state.timeLeft;\n\n    this.stopTimer();\n\n    this.level.onAnswer = (isCorrect) => {\n\n      if (!isCorrect) {\n        this.model.mistake();\n      }\n\n      this.model.pushAnswer([+isCorrect, startedTime - this.model.state.timeLeft]);\n\n      // Если попытки кончились - переход на экран результата без статуса выйгрыша\n      if (this.model.state.notesLeft <= 0) {\n        this.model.cleanState(false);\n        App.result(this.model.state);\n        // Если вопросов больше нет - переход на экран результата со статусом выйгрыша\n      } else if (!this.model.nextQuestionAvailable()) {\n        this.model.cleanState(true);\n        App.result(this.model.state);\n      } else {\n        switchAppScreen(this.level);\n        this.changeQuestion();\n      }\n    };\n\n    switchAppScreen(this.level);\n\n    this.tick();\n  }\n\n  tick() {\n    this.model.tick();\n    const timeInfo = timeConverter(this.model.state.timeLeft);\n    this.level.updateTime(timeInfo.minutesLeft, timeInfo.secondsLeft);\n\n    this.timer = setTimeout(() => this.tick(), 1000);\n\n    // Если время вышло - переход на экран результата без статуса выйгрыша\n    if (this.model.state.timeLeft <= 0) {\n      this.stopTimer();\n      this.model.cleanState(false);\n      App.result(this.model.state);\n    }\n  }\n\n  stopTimer() {\n    clearTimeout(this.timer);\n  }\n}\n","const data = {\n  win: {\n    title: `Вы настоящий меломан!`,\n    replay: `Сыграть ещё раз`\n  },\n  attemptsOut: {\n    title: `Какая жалость!`,\n    replay: `Попробовать ещё раз`\n  },\n  timeOut: {\n    title: `Увы и ах!`,\n    replay: `Попробовать ещё раз`\n  },\n\n};\n\nexport default data;\n","import AbstractView from '../view';\nimport logo from '../includes/logo';\nimport data from './result-data';\nimport {getScore, getResultString, getStatString} from '../data/game-data';\nimport {initialState} from \"../data/state-data\";\n\n\nclass ResultView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n\n    if (!state.timeLeft > 0) {\n\n      const result = {\n        scoreCount: getScore(state.answers, state.notesLeft),\n        notesLeft: state.notesLeft,\n        timeLeft: state.timeLeft\n      };\n      data.timeOut.stat = getResultString(state.statistics, result);\n\n      this.resultData = data.timeOut;\n\n    } else if (!state.notesLeft > 0) {\n\n      const result = {\n        scoreCount: getScore(state.answers, state.notesLeft),\n        notesLeft: state.notesLeft,\n        timeLeft: state.timeLeft\n      };\n      data.attemptsOut.stat = getResultString(state.statistics, result);\n\n      this.resultData = data.attemptsOut;\n\n    } else {\n\n      const scoreCount = getScore(state.answers, state.notesLeft);\n      const result = {\n        scoreCount,\n        notesLeft: state.notesLeft,\n        timeLeft: state.timeLeft\n      };\n\n      data.win.stat = getStatString(state, initialState, scoreCount);\n\n      data.win.comparison = getResultString(state.statistics, result);\n      this.resultData = data.win;\n    }\n  }\n\n  get template() {\n    return (`\n  <section class=\"main main--result\">\n    ${logo}\n    \n    <h2 class=\"title\">${this.resultData.title}</h2>\n    <div class=\"main-stat\">${this.resultData.stat}</div>\n    <span class=\"main-comparison\">${this.resultData.comparison ? this.resultData.comparison : ``}</span>\n    <span role=\"button\" tabindex=\"0\" class=\"main-replay\">${this.resultData.replay}</span>\n  </section>`.trim()\n    );\n  }\n\n  bind() {\n    const replayBtn = this.element.querySelector(`.main-replay`);\n\n    replayBtn.onclick = (e) => {\n      e.preventDefault();\n      this.onReplay();\n    };\n  }\n\n  onReplay() {\n\n  }\n}\n\n\nexport default ResultView;\n","import switchAppScreen from '../util/switch-app-screen';\nimport ResultView from './result-view';\nimport App from '../application';\n\nimport {getScore} from \"../data/game-data\";\n\n\nclass ResultScreen {\n\n  init(state) {\n\n    this.state = state;\n\n    let statistics = [];\n\n    if (state.results) {\n      for (const result of state.results) {\n        const score = getScore(result.answers, result.notesLeft);\n        statistics.push(score);\n      }\n    }\n\n    this.state.statistics = statistics;\n\n    this.view = new ResultView(state);\n\n    switchAppScreen(this.view);\n\n    this.view.onReplay = () => {\n      App.showWelcome();\n    };\n  }\n}\n\nexport default new ResultScreen();\n","import AbstractView from '../view';\nimport logo from '../includes/logo';\n\n\nexport default class SplashScreen extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `\n  <section class=\"main main--welcome\">\n    ${logo}\n    <h2 class=\"title main-title\">Загрузка</h2>\n  </section>`.trim();\n  }\n}\n","const SERVER_URL = `https://es.dump.academy/guess-melody`;\n\nconst API_PATHS = {\n  QUESTIONS: `questions`,\n  STATS: `stats`,\n};\n\nconst USERNAME = `509237`;\n\nexport default class Loader {\n  static loadData() {\n    return fetch(`${SERVER_URL}/${API_PATHS.QUESTIONS}`).\n        then((res) => res.json());\n  }\n\n  static loadResults(name = USERNAME) {\n    return fetch(`${SERVER_URL}/stats/${name}`).then((res) => res.json());\n  }\n\n  static saveResults(data, name = USERNAME) {\n    const requestInit = {\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': `application/json`\n      },\n      method: `POST`\n    };\n    return fetch(`${SERVER_URL}/stats/${name}`, requestInit);\n  }\n}\n","const b64Encode = (str) => {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,\n      function toSolidBytes(match, p1) {\n        return String.fromCharCode(`0x` + p1);\n      }));\n};\n\nconst b64Decode = (str) => {\n  return decodeURIComponent(atob(str).split(``).map(function (c) {\n    return `%` + (`00` + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(``));\n};\n\nexport {b64Encode, b64Decode};\n","import {initialState} from './data/state-data';\nimport {resultTypes} from './data/game-data';\n\nimport welcomeScreen from './welcome/welcome';\nimport GameScreen from './game/game';\nimport resultScreen from './result/result';\nimport SplashScreen from './splash/splash-screen';\n\nimport Loader from './loader';\nimport switchAppScreen from './util/switch-app-screen';\n\nimport {b64Encode, b64Decode} from './util/b64encoding';\n\n\nconst ControllerId = {\n  WELCOME: ``,\n  GAME: `game`,\n  RESULT: `result`\n};\n\nconst saveState = (state) => {\n  return b64Encode(JSON.stringify(state));\n};\n\nconst loadState = (dataString) => {\n  try {\n    return JSON.parse(b64Decode(dataString));\n  } catch (e) {\n    return initialState;\n  }\n};\n\nexport default class Application {\n  static init(questions) {\n    this.routes = {\n      [ControllerId.WELCOME]: welcomeScreen,\n      [ControllerId.GAME]: new GameScreen(questions),\n      [ControllerId.RESULT]: resultScreen\n    };\n\n    const hashChangeHandler = () => {\n      const hashValue = location.hash.replace(`#`, ``);\n      const [id, data] = hashValue.split(`=`);\n      this.changeHash(id, data);\n    };\n    window.onhashchange = hashChangeHandler;\n    hashChangeHandler();\n  }\n\n  static changeHash(id, data) {\n    const controller = this.routes[id];\n\n    if (controller) {\n      controller.init(loadState(data));\n    }\n  }\n\n  static showWelcome() {\n    location.hash = ControllerId.WELCOME;\n  }\n\n  static startGame(state = initialState) {\n    location.hash = `${ControllerId.GAME}=${saveState(state)}`;\n  }\n\n  static result(state) {\n    let results = [];\n\n    if (state.result === resultTypes.WIN) {\n      Loader.loadResults()\n          .then((jsonData) => {\n            results = jsonData;\n          })\n          .then(Loader.saveResults(state))\n          .then(() => {\n            state.results = results;\n            location.hash = `${ControllerId.RESULT}=${saveState(state)}`;\n          })\n          .catch(window.console.error);\n\n    } else {\n      location.hash = `${ControllerId.RESULT}=${saveState(state)}`;\n    }\n  }\n\n  static showSplash() {\n    const splash = new SplashScreen();\n    switchAppScreen(splash);\n\n    Loader.loadData()\n        .then((jsonData) => {\n          Application.init(jsonData);\n        })\n        .catch(window.console.error);\n  }\n}\n\n\n","import App from './application';\n\nApp.showSplash();\n"],"names":["initialState","App"],"mappings":"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"}