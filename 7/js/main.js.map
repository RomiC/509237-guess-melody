{"version":3,"file":"main.js","sources":["js/util/switch-app-screen.js","js/util/get-element-from-template.js","js/view.js","js/screens/logo.js","js/screens/welcome-view.js","js/data/music-data.js","js/data/state-data.js","js/screens/header.js","js/screens/player.js","js/screens/game-artist-view.js","js/data/game-data.js","js/screens/game-artist.js","js/screens/game-genre-view.js","js/screens/game-genre.js","js/screens/result-data.js","js/screens/result-view.js","js/screens/result.js","js/game.js","js/screens/welcome.js","js/main.js"],"sourcesContent":["const app = document.querySelector(`.app`);\n\n\nconst switchAppScreen = (screen) => {\n  app.replaceChild(screen.element, app.querySelector(`.main`));\n};\n\nexport default switchAppScreen;\n","const getElementFromTemplate = (template) => {\n  const outer = document.createElement(`div`);\n  outer.innerHTML = template;\n  return outer.firstElementChild;\n};\n\nexport default getElementFromTemplate;\n","import getElementFromTemplate from './util/get-element-from-template';\n\nexport default class AbstractView {\n\n  get template() {\n    throw new Error(`You have to define template for view`);\n  }\n\n  render() {\n    return getElementFromTemplate(this.template);\n  }\n\n  bind() {\n\n  }\n\n  get element() {\n    if (!this._element) {\n      this._element = this.render();\n      this.bind();\n    }\n    return this._element;\n  }\n\n}\n","const logo = `<section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>`;\n\nexport default logo;\n","import AbstractView from '../view';\nimport logo from './logo';\n\nclass WelcomeView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n  }\n\n  get template() {\n    return (`\n  <section class=\"main main--welcome\">\n    ${logo}\n    \n    <button class=\"main-play\">Начать игру</button>\n    <h2 class=\"title main-title\">Правила игры</h2>\n    <p class=\"text main-text\">\n      Правила просты — зa ${this.state.minutesLeft} минут ответить на все вопросы.<br>\n      Ошибиться можно ${this.state.notesLeft} раза.<br>\n      Удачи!\n    </p>\n  </section>`.trim()\n    );\n  }\n\n  bind() {\n    const buttonPlay = this.element.querySelector(`.main-play`);\n\n    buttonPlay.onclick = (e) => {\n      e.preventDefault();\n      this.onStart();\n    };\n  }\n\n  onStart() {\n\n  }\n}\n\n\nexport default WelcomeView;\n","// Music from https://www.youtube.com/audiolibrary/music?feature=blog\nexport default [\n  {\n    artist: `Kevin MacLeod`,\n    name: `Long Stroll`,\n    image: `https://yt3.ggpht.com/-fkDeGauT7Co/AAAAAAAAAAI/AAAAAAAAAAA/dkF5ZKkrxRo/s900-c-k-no-mo-rj-c0xffffff/photo.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=91624fdc22fc54ed`,\n    genre: `Jazz`\n  },\n  {\n    artist: `Jingle Punks`,\n    name: `In the Land of Rhinoplasty`,\n    image: `https://i.vimeocdn.com/portrait/992615_300x300`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=dc3b4dc549becd6b`,\n    genre: `Rock`\n  },\n  {\n    artist: `Audionautix`,\n    name: `Travel Light`,\n    image: `http://4.bp.blogspot.com/-kft9qu5ET6U/VPFUBi9W-MI/AAAAAAAACYM/UxXilXKYwOc/s1600/audionautix%2BHalf%2BSize.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=a127d9b7de8a17cf`,\n    genre: `Country`\n  },\n  {\n    artist: `Riot`,\n    name: `\tLevel Plane`,\n    image: `https://i.ytimg.com/vi/jzgM3m8Vp1k/maxresdefault.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=dfb828f40096184c`,\n    genre: `R&B`\n  },\n  {\n    artist: `Jingle Punks`,\n    name: `Lucky Day`,\n    image: `https://i.vimeocdn.com/portrait/992615_300x300`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=bcbe5be936a32fb1`,\n    genre: `Pop`\n  },\n  {\n    artist: `Gunnar Olsen`,\n    name: `Home Stretch`,\n    image: `https://f4.bcbits.com/img/0004181452_10.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=bcbe5be936a32fb1`,\n    genre: `Electronic`\n  }\n];\n","import musicData from './music-data';\n\nconst INIT_NOTES = 3;\nconst INIT_TIME = 300;\n\nconst initialState = {\n  screen: `welcome`,\n  question: 0,\n  notesLeft: INIT_NOTES,\n  timeLeft: INIT_TIME,\n  statistics: [],\n  answers: [],\n\n  get timeSpend() {\n    return INIT_TIME - this.timeLeft;\n  },\n\n  get minutesLeft() {\n    return Math.floor(this.timeLeft / 60);\n  },\n\n  get secondsLeft() {\n    return this.timeLeft - this.minutesLeft * 60;\n  },\n\n  get minutesSpend() {\n    return Math.floor(this.timeSpend / 60);\n  },\n\n  get secondsSpend() {\n    return this.timeSpend - this.minutesSpend * 60;\n  }\n};\n\nconst questionTypes = {\n\n  QUESTION_ARTIST: `levelArtist`,\n  QUESTION_GENRE: `levelGenre`\n};\n\nconst screenTypes = {\n  SCREEN_WELCOME: `screenWelcome`,\n  SCREEN_GAME: `screenGame`,\n  SCREEN_RESULT: `screenResult`\n};\n\nconst screens = {\n  'welcome': {\n    type: screenTypes.SCREEN_WELCOME,\n    destination: `game`\n  },\n  'game': {\n    type: screenTypes.SCREEN_GAME,\n    destination: `result`\n  },\n  'result': {\n    type: screenTypes.SCREEN_RESULT,\n    destination: `welcome`\n  }\n};\n\nconst questions = [\n  {\n    type: questionTypes.QUESTION_ARTIST,\n    title: `Кто исполняет эту песню?`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_GENRE,\n    title: `Выберите инди-рок треки`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      },\n      {\n        isCorrect: false,\n        track: musicData[3]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_ARTIST,\n    title: `Кто исполняет эту песню?`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_GENRE,\n    title: `Выберите инди-рок треки`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      },\n      {\n        isCorrect: false,\n        track: musicData[3]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_ARTIST,\n    title: `Кто исполняет эту песню?`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_GENRE,\n    title: `Выберите инди-рок треки`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      },\n      {\n        isCorrect: false,\n        track: musicData[3]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_ARTIST,\n    title: `Кто исполняет эту песню?`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_GENRE,\n    title: `Выберите инди-рок треки`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      },\n      {\n        isCorrect: false,\n        track: musicData[3]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_ARTIST,\n    title: `Кто исполняет эту песню?`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      }\n    ]\n  },\n  {\n    type: questionTypes.QUESTION_GENRE,\n    title: `Выберите инди-рок треки`,\n    answers: [\n      {\n        isCorrect: true,\n        track: musicData[0]\n      },\n      {\n        isCorrect: false,\n        track: musicData[1]\n      },\n      {\n        isCorrect: false,\n        track: musicData[2]\n      },\n      {\n        isCorrect: false,\n        track: musicData[3]\n      }\n    ]\n  }\n];\n\n\nexport {initialState, screens, screenTypes, questions, questionTypes};\n","const headerTimerValue = (mins, secs) => `\n      <div class=\"timer-value\" xmlns=\"http://www.w3.org/1999/xhtml\">\n        <span class=\"timer-value-mins\">${mins}</span><!--\n        --><span class=\"timer-value-dots\">:</span><!--\n        --><span class=\"timer-value-secs\">${secs}</span>\n      </div>`.trim();\n\nconst headerMistakes = (notesLeft) => `\n    <div class=\"main-mistakes\">\n    ${new Array(notesLeft).fill(`<img class=\"main-mistake\" src=\"img/wrong-answer.png\" width=\"35\" height=\"49\">`).join(`\\n`)}\n    </div>`.trim();\n\nconst headerSvgCircle = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 0 780 780\">\n      <circle\n        cx=\"390\" cy=\"390\" r=\"370\"\n        class=\"timer-line\"\n        style=\"filter: url(#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\"></circle>\n\n      ${headerTimerValue(`05`, `00`)}\n    </svg>`.trim();\n\nconst templateHeader = (state) => `\n    ${headerSvgCircle}\n    ${headerMistakes(state.notesLeft)}`\n;\n\nexport default templateHeader;\n","const playerWrapper = (id, src) => `\n      <div class=\"player-wrapper\">\n        <div class=\"player\">\n          <audio src=\"${src}\" id=\"audio-${id}\"></audio>\n          <button class=\"player-control player-control--pause\"></button>\n          <div class=\"player-track\">\n            <span class=\"player-status\"></span>\n          </div>\n        </div>\n      </div>`.trim();\n\n\nconst playerHandler = (trigger) => {\n\n  const audio = trigger.querySelector(`audio`);\n  const button = trigger.querySelector(`button`);\n  if (button.classList.contains(`player-control--pause`)) {\n    audio.play();\n    button.classList.remove(`player-control--pause`);\n    button.classList.add(`player-control--play`);\n  } else {\n    button.classList.remove(`player-control--play`);\n    button.classList.add(`player-control--pause`);\n    audio.pause();\n  }\n};\n\nexport {playerWrapper, playerHandler};\n","import AbstractView from '../view';\nimport templateHeader from './header';\nimport {playerWrapper, playerHandler} from './player';\nimport {questions} from '../data/state-data';\n\nconst artistAnswerWrapper = (id, artist, image) => `\n        <div class=\"main-answer-wrapper\">\n          <input class=\"main-answer-r\" type=\"radio\" id=\"${id}\" name=\"answer\" value=\"${id}\"/>\n          <label class=\"main-answer\" for=\"${id}\">\n            <img class=\"main-answer-preview\" src=\"${image}\"\n                 alt=\"${artist}\" width=\"134\" height=\"134\">\n            ${artist}\n          </label>\n        </div>`.trim();\n\n\nclass GameArtistView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n  }\n\n  get template() {\n    return (`\n  <section class=\"main main--level main--level-artist\">\n    ${templateHeader(this.state)}\n\n    <div class=\"main-wrap\">\n      <h2 class=\"title main-title\">${questions[this.state.question].title}</h2>\n\n      ${playerWrapper(0, questions[this.state.question].answers.reduce((correctAnswer, currentAnswer) => {\n        correctAnswer = currentAnswer.isCorrect ? currentAnswer : correctAnswer;\n        return correctAnswer;\n      }, {}).track.src)}\n      \n      <form class=\"main-list\">\n\n      ${questions[this.state.question].answers.map((answer, index) => artistAnswerWrapper(index, answer.track.artist, answer.track.image)).join(``)}\n      </form>\n    </div>\n  </section>`.trim()\n    );\n  }\n\n  bind() {\n    const artistAnswersList = this.element.querySelectorAll(`.main-answer-r`);\n\n    [...artistAnswersList].forEach((trigger) => {\n      trigger.onclick = (e) => {\n        e.preventDefault();\n        this.onAnswerClick(e);\n      };\n    });\n\n    const artistPlayersList = this.element.querySelectorAll(`.player`);\n\n    [...artistPlayersList].forEach((trigger) => {\n\n      trigger.onclick = (e) => {\n        e.preventDefault();\n        playerHandler(trigger);\n      };\n\n    });\n  }\n\n  onAnswerClick() {\n\n  }\n}\n\nexport default GameArtistView;\n","const getScore = (answersArray = [], notesLeft = 0, totalQuestions = 10) => {\n\n  // Пример объекта с ответом:\n  // {\n  //   isCorrect: true,\n  //   time: 30\n  // }\n\n  let scoreCount = 0;\n\n  // Если игрок ответил меньше, чем на 10 вопросов, то игра считается непройденой и функция должна вернуть -1\n  if (answersArray.length < totalQuestions) {\n    scoreCount = -1;\n    return scoreCount;\n  }\n\n  // Подсчет баллов если все 10 вопросов отвечены\n  scoreCount = answersArray.reduce((accumulator, currentAnswer) => {\n\n    let scoreAnswer = 0;\n\n    if (currentAnswer.isCorrect) {\n      // За правильный ответ 1 балл\n      if (currentAnswer.time >= 30) {\n        scoreAnswer = 1;\n      } else {\n        // За быстрый правильный ответ (менее 30 секунд) — 2 балла\n        scoreAnswer = 2;\n      }\n    }\n\n    return accumulator + scoreAnswer;\n  }, 0);\n\n  // За каждую соверешнную ошибку вычитается 2 балла, но в 0 уйти нельзя\n  scoreCount = Math.max(0, scoreCount - (3 - notesLeft));\n\n\n  return scoreCount;\n\n};\n\nconst getResultString = (statistics = [], result) => {\n\n  if (result.timeLeft === 0) {\n    return `Время вышло! Вы не успели отгадать все мелодии`;\n  }\n\n  if (result.notesLeft === 0) {\n    return `У вас закончились все попытки. Ничего, повезёт в следующий раз!`;\n  }\n\n  statistics.push(result.scoreCount);\n  statistics.sort((a, b) => a - b);\n\n  const statisticsCount = statistics.length;\n  const betterResultsCount = statistics.findIndex((it) => it === result.scoreCount);\n  const resultPlace = statisticsCount - betterResultsCount;\n  const resultPercent = (betterResultsCount / statisticsCount) * 100;\n\n\n  return `Вы заняли ${resultPlace}-ое место из ${statisticsCount} игроков. Это лучше чем у ${resultPercent}% игроков`;\n};\n\nconst getTimer = (value) => {\n  return {\n    value,\n    tick() {\n      if (this.value > 0) {\n        this.value -= 1;\n      }\n\n      return {value: this.value, done: this.value === 0};\n    },\n  };\n};\n\n\nexport {getScore, getResultString, getTimer};\n","import GameArtistView from \"./game-artist-view\";\nimport switchAppScreen from '../util/switch-app-screen';\nimport changeQuestion from '../game';\nimport {questions, screens} from '../data/state-data';\nimport {getTimer} from '../data/game-data';\n\nconst gameArtist = (state) => {\n  const gameArtistView = new GameArtistView(state);\n\n  let timer = getTimer(state.timeLeft);\n  const startTimer = () => {\n    setTimeout(() => {\n\n      // console.log(`tick`);\n      const timeLeft = timer.tick().value;\n      // console.log(timeLeft);\n      state.timeLeft = timeLeft;\n      startTimer();\n    }, 1000);\n  };\n  startTimer();\n\n  gameArtistView.onAnswerClick = (e) => {\n\n    const isCorrect = questions[state.question].answers[e.target.id].isCorrect;\n    const notesLeft = isCorrect ? state.notesLeft : state.notesLeft - 1;\n\n    const nextQuestion = state.question + 1;\n    const nextScreen = notesLeft > 0 && nextQuestion ? `game` : screens[state.screen].destination;\n\n    const newState = Object.assign({}, state, {\n      'screen': nextScreen,\n      'question': nextQuestion,\n      'answers': state.answers.concat({isCorrect, time: 30}),\n      'notesLeft': notesLeft\n    });\n\n    switchAppScreen(changeQuestion(newState));\n  };\n\n  return gameArtistView;\n};\n\nexport default (state) => gameArtist(state);\n\n","import AbstractView from '../view';\nimport levelHeader from './header';\nimport {playerWrapper, playerHandler} from './player';\nimport {questions} from '../data/state-data';\n\nconst genreAnswerWrapper = (id, src) => `\n        <div class=\"genre-answer\">\n          ${playerWrapper(id, src)}\n          <input type=\"checkbox\" name=\"answer\" value=\"${id}\" id=\"${id}\">\n          <label class=\"genre-answer-check\" for=\"${id}\"></label>\n        </div>`.trim();\n\nclass GameGenreView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n  }\n\n  get template() {\n    return (`\n  <section class=\"main main--level main--level-genre\">\n    ${levelHeader(this.state)}\n\n    <div class=\"main-wrap\">\n      <h2 class=\"title\">${questions[this.state.question].title}</h2>\n      <form class=\"genre\">\n        ${questions[this.state.question].answers.map((answer, index) => genreAnswerWrapper(index, answer.track.src)).join(``)}\n        <button class=\"genre-answer-send\" type=\"submit\">Ответить</button>\n      </form>\n    </div>\n  </section>`.trim());\n\n  }\n\n  bind() {\n\n    const submitAnswerBtn = this.element.querySelector(`.genre-answer-send`);\n    submitAnswerBtn.disabled = true;\n\n    const answersForm = this.element.querySelector(`.genre`);\n\n    const genrePlayersList = this.element.querySelectorAll(`.player`);\n    [...genrePlayersList].forEach((trigger) => {\n\n      trigger.onclick = (e) => {\n        e.preventDefault();\n        playerHandler(trigger);\n      };\n    });\n\n    answersForm.onchange = (e) => {\n      e.preventDefault();\n      this.onAnswersFormChange();\n    };\n\n    answersForm.onsubmit = (e) => {\n      e.preventDefault();\n      this.onSubmitAnswer();\n    };\n\n  }\n\n  onAnswersFormChange() {\n    const submitAnswerBtn = this.element.querySelector(`.genre-answer-send`);\n    const answersForm = this.element.querySelector(`.genre`);\n    const genreAnswersList = [...answersForm.answer];\n    submitAnswerBtn.disabled = !genreAnswersList.some((answer) => answer.checked);\n  }\n\n  onSubmitAnswer() {\n\n  }\n\n}\n\n\nexport default GameGenreView;\n","import GameGenreView from \"./game-genre-view\";\nimport switchAppScreen from '../util/switch-app-screen';\nimport changeQuestion from '../game';\nimport {questions, screens} from '../data/state-data';\n\nconst gameGenre = (state) => {\n  const gameGenreView = new GameGenreView(state);\n\n  gameGenreView.onSubmitAnswer = () => {\n\n    const answersForm = gameGenreView.element.querySelector(`.genre`);\n    const genreAnswersList = [...answersForm.answer];\n\n    const isCorrect = genreAnswersList.reduce((result, currentAnswer) => {\n\n      if (questions[state.question].answers[currentAnswer.id].isCorrect) {\n        result = result && currentAnswer.checked;\n      } else {\n        result = result && !currentAnswer.checked;\n      }\n\n      return result;\n    }, true);\n\n    const notesLeft = isCorrect ? state.notesLeft : state.notesLeft - 1;\n    const nextQuestion = state.question + 1;\n    const nextScreen = notesLeft > 0 && questions[nextQuestion] ? `game` : screens[state.screen].destination;\n\n    const newState = Object.assign({}, state, {\n      'screen': nextScreen,\n      'question': nextQuestion,\n      'answers': state.answers.concat({isCorrect, time: 30}),\n      'notesLeft': notesLeft\n    });\n\n    switchAppScreen(changeQuestion(newState));\n  };\n\n  return gameGenreView;\n};\n\nexport default (state) => gameGenre(state);\n\n","const data = {\n  win: {\n    title: `Вы настоящий меломан!`,\n    replay: `Сыграть ещё раз`\n  },\n  attemptsOut: {\n    title: `Какая жалость!`,\n    replay: `Попробовать ещё раз`\n  },\n  timeOut: {\n    title: `Увы и ах!`,\n    replay: `Попробовать ещё раз`\n  },\n\n};\n\nexport default data;\n","import AbstractView from '../view';\nimport logo from './logo';\nimport data from './result-data';\nimport {getScore, getResultString} from '../data/game-data';\nimport {initialState} from \"../data/state-data\";\n\n\nclass ResultView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n\n    if (!state.notesLeft > 0) {\n\n      const result = {\n        scoreCount: getScore(state.answers, state.notesLeft),\n        notesLeft: state.notesLeft\n      };\n      data.attemptsOut.stat = getResultString(state.statistics, result);\n\n      this.resultData = data.attemptsOut;\n\n    } else if (!state.timeLeft > 0) {\n\n      const result = {\n        scoreCount: getScore(state.answers, state.notesLeft),\n        notesLeft: state.notesLeft\n      };\n      data.timeOut.stat = getResultString(state.statistics, result);\n\n      this.resultData = data.timeOut;\n\n    } else {\n\n      const scoreCount = getScore(state.answers, state.notesLeft);\n      const result = {\n        scoreCount,\n        notesLeft: state.notesLeft\n      };\n\n      data.win.stat = `\n          За ${state.minutesSpend} минуты и ${state.secondsSpend} секунд\n          <br>вы набрали ${scoreCount} баллов (0 быстрых)\n          <br>совершив ${initialState.notesLeft - state.notesLeft} ошибки`.trim();\n\n      data.win.comparison = getResultString(state.statistics, result);\n      this.resultData = data.win;\n    }\n\n\n  }\n\n  get template() {\n    return (`\n  <section class=\"main main--result\">\n    ${logo}\n    \n    <h2 class=\"title\">${this.resultData.title}</h2>\n    <div class=\"main-stat\">${this.resultData.stat}</div>\n    <span class=\"main-comparison\">${this.resultData.comparison ? this.resultData.comparison : ``}</span>\n    <span role=\"button\" tabindex=\"0\" class=\"main-replay\">${this.resultData.replay}</span>\n  </section>`.trim()\n    );\n  }\n\n  bind() {\n    const replayBtn = this.element.querySelector(`.main-replay`);\n\n    replayBtn.onclick = (e) => {\n      e.preventDefault();\n      this.onReplay();\n    };\n  }\n\n  onReplay() {\n\n  }\n}\n\n\nexport default ResultView;\n","import switchAppScreen from '../util/switch-app-screen';\nimport ResultView from './result-view';\nimport changeQuestion from '../game';\nimport {initialState} from \"../data/state-data\";\n\nconst result = (state) => {\n  const welcomeView = new ResultView(state);\n\n  welcomeView.onReplay = () => {\n\n    const newState = Object.assign({}, state, {\n      'screen': initialState.screen,\n      'notesLeft': initialState.notesLeft,\n      'timeLeft': initialState.timeLeft,\n    });\n\n    switchAppScreen(changeQuestion(newState));\n  };\n\n  return welcomeView;\n};\n\nexport default (state) => result(state);\n","import {screens, questions, screenTypes, questionTypes} from './data/state-data';\nimport gameArtist from \"./screens/game-artist\";\nimport gameGenre from \"./screens/game-genre\";\nimport welcome from './screens/welcome';\nimport result from './screens/result';\n\n\nconst changeQuestion = (state) => {\n\n  switch (screens[state.screen].type) {\n\n    case screenTypes.SCREEN_WELCOME:\n\n      return welcome(state);\n\n    case screenTypes.SCREEN_GAME:\n\n      switch (questions[state.question].type) {\n\n        case questionTypes.QUESTION_ARTIST:\n\n          return gameArtist(state);\n\n        case questionTypes.QUESTION_GENRE:\n\n          return gameGenre(state);\n\n      }\n\n      break;\n\n    case screenTypes.SCREEN_RESULT:\n\n      return result(state);\n\n  }\n\n  throw new Error();\n\n};\n\nexport default (state) => changeQuestion(state);\n","import switchAppScreen from '../util/switch-app-screen';\nimport WelcomeView from './welcome-view';\nimport changeQuestion from '../game';\nimport {initialState, screens} from \"../data/state-data\";\n\nconst welcome = (state) => {\n  const welcomeView = new WelcomeView(state);\n\n  welcomeView.onStart = () => {\n\n    const nextScreen = screens[state.screen].destination;\n\n    const nextState = Object.assign({}, state, {\n      'screen': nextScreen,\n      'question': initialState.question,\n      'notesLeft': initialState.notesLeft,\n      'timeLeft': initialState.timeLeft,\n      'answers': initialState.answers\n    });\n    switchAppScreen(changeQuestion(nextState));\n  };\n\n  return welcomeView;\n};\n\nexport default (state) => welcome(state);\n","import switchAppScreen from './util/switch-app-screen';\nimport showWelcome from './screens/welcome';\nimport {initialState} from \"./data/state-data\";\n\nswitchAppScreen(showWelcome(initialState));\n"],"names":["changeQuestion","levelHeader","welcome","gameArtist","gameGenre","result","showWelcome"],"mappings":"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"}